

<div class="search-result-inside">
    <div *ngIf="rowLoading" class="search-result-inside-loading">
        <app-spinning-loader [showLoader]="rowLoading"></app-spinning-loader>
    </div>

    
    <!-- <app-status-prefs (onLoaded)="checkLoadingStatus()" userId="{{ userId }}" ></app-status-prefs> -->
    <!-- <app-recent-job (onLoaded)="checkLoadingStatus()" userId="{{ userId }}" ></app-recent-job> -->
    <!-- <app-languages (onLoaded)="checkLoadingStatus()" userId="{{ userId }}" ></app-languages>
    <app-traits (onLoaded)="checkLoadingStatus()" userId="{{ userId }}" ></app-traits> -->

     <div class="search-result-inside-wrap">
         <div class="row">
            <div class="col-md-3"><app-search-profile #profileComponent (onLoaded)="checkLoadingStatus()" (setprofilevalue)="setProfileValue($event)" userId="{{ userId }}" creator_id="{{ creatorid }}" displayright="0"></app-search-profile></div>
            <div class="col-md-9">
                <div class="row rowbox">
                    <div class="row">
                        <div class="col-md-6 form-group">
                            <div class="sri-cont">
                            <h3 class="section-heading-1">Account info</h3>
                            <div class="stri-fieldbox" *ngIf="showprofile">


                                <table width="100%" class="tn_detailss">
                                    <tbody>
                                        <tr>
                                            <td width="40%">
                                                <span class="field-label">Account Number :</span> 
                                            </td>
                                            <td width="60%">
                                                <span class="dield-value">{{userId}}</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="40%">
                                                <span class="field-label">First Name : </span> 
                                            </td>
                                            <td width="60%">
                                                <span class="dield-value">{{(profiledetaile.firstname !=null)?profiledetaile.firstname:'..........................'}}</span>  
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="40%">
                                                <span class="field-label">Last Name :</span> 
                                            </td>
                                            <td width="60%">
                                                <span class="dield-value">
                                                    {{(profiledetaile.lastname !=null)?profiledetaile.lastname:'..........................'}}
                                                </span>  
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="40%">
                                                <span class="field-label">Phone Number : </span> 
                                            </td>
                                            <td width="60%">
                                                <span class="dield-value">
                                                 {{(profiledetaile.firstname !=null)?(profiledetaile.phone!=null?profiledetaile.phone:'N/A'):'..........................'}}   
                                                </span>   
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="40%">
                                                <span class="field-label">Location : </span> 
                                            </td>
                                            <td width="60%" *ngIf="profiledetaile.firstname !=null">
                                                <span class="dield-value" *ngIf="profiledetaile.location.city_name || profiledetaile.location.state_name || profiledetaile.location.country_name">
                                                    {{profiledetaile.location.city_name}} {{profiledetaile.location.state_name}} {{profiledetaile.location.country_name}}
                                                </span>  
                                                 <span class="dield-value" *ngIf="profiledetaile.location.city_name==null && profiledetaile.location.state_name===null && profiledetaile.location.country_name==null">
                                                    N/A
                                                </span>  
                                            </td>
                                            <td width="60%" *ngIf="profiledetaile.firstname ==null">
                                                <span class="dield-value">
                                                    ..........................
                                                </span>  
                                            </td>
                                        </tr>
                                         <tr>
                                            <td width="40%">
                                                 <span class="field-label">Skype : </span> 
                                            </td>
                                            <td width="60%">
                                                <span class="dield-value" [ngClass]="profiledetaile.skype!=null ? '': 'emptValue'">
                                                {{(profiledetaile.firstname !=null)?(profiledetaile.skype!=null?profiledetaile.skype:'N/A'):'..........................'}}    
                                                </span>     
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="40%">
                                                  <span class="field-label">Website : </span>  
                                            </td>
                                            <td width="60%">
                                                 <span class="dield-value" [ngClass]="profiledetaile.website!=null ? '': 'emptValue'">
                                                     {{(profiledetaile.firstname !=null)?(profiledetaile.website!=null?profiledetaile.website:'N/A'):'..........................'}}    
                                                 </span>      
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="40%">
                                                 <span class="field-label">Birthday : </span>  
                                            </td>
                                            <td width="60%">
                                                 <span class="dield-value" [ngClass]="profiledetaile.profile_birthday!=null ? '': 'emptValue'">

                                                    {{(profiledetaile.firstname !=null)?(profiledetaile.profile_birthday!=null?userdob(profiledetaile.profile_birthday):'N/A'):'..........................'}} 
                                                </span>       
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="40%">
                                                 <span class="field-label">Gender : </span>   
                                            </td>
                                            <td width="60%">
                                                 <span class="dield-value" [ngClass]="profiledetaile.profile_gender!=null ? '': 'emptValue'">
                                                  {{(profiledetaile.firstname !=null)?(profiledetaile.profile_gender=='M'?'Male':(profiledetaile.profile_gender=='F'?'Female':'N/A')):'..........................'}} 
                                                    
                                            </span>         
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="40%">
                                                 <span class="field-label">Email : </span>    
                                            </td>
                                            <td width="60%">
                                                 <span class="dield-value" [ngClass]="profiledetaile.email!=null ? '': 'emptValue'">

                                                  {{(profiledetaile.firstname !=null)?(profiledetaile.email!=null?profiledetaile.email:'N/A'):'..........................'}}     
                                              </span>           
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>


                            </div>
                        </div>                 
                        </div>
                        <div class="col-md-6 form-group" *ngIf="prefrences">
                            <div class="sri-cont">
                                <h3 class="section-heading-1">Status & Preferences</h3>
                                <div class="stri-fieldbox status-prefe-table">
                                    <table>
                                        <tbody>
                                            <tr>
                                                <td>What is your employment status?</td>
                                                <td>{{ ( preferences$ | async )?.employment_status }}</td>
                                            </tr>
                                            <tr>
                                                <td>Are you currently looking for a job?</td>
                                                <td> {{((preferences$ | async)?.current_status=='actively looking')?'Yes':'NO'}}</td>
                                            </tr>
                                             <tr>
                                                <td>Employment Type Seeking?</td>
                                                <td>{{ ( preferences$ | async )?.employment_type }}</td>
                                            </tr>
                                             <tr>
                                                <td>Expected Salary (Recommended) Add benefits in addition to salary</td>
                                                <td>{{ ((preferences$ | async)?.desired_salary) ? '$' : '' }}{{ ( preferences$ | async )?.desired_salary }}
                                                {{ ( preferences$ | async )?.desired_salary_period_readable }}</td>
                                            </tr>
                                             <tr>
                                                <td>Locations of Interest :</td>
                                                <td>{{(preferences$ | async)?.locations}}</td>
                                            </tr>
                                             <tr>
                                                <td>Willing To Relocate? :</td>
                                                <td>
                                                {{((preferences$ | async)?.relocation=='1')?'Yes':((preferences$ | async)?.relocation==NULL)?'N/A':'No'}}</td>
                                            </tr>
                                             <tr>
                                                <td>When are you available to start working? :</td>
                                                <td>{{(preferences$ | async)?.available_from}}</td>
                                               
                                            </tr>
                                             <tr>
                                                <td>I am legally allowed to work in the US</td>
                                                <td>{{((preferences$ | async)?.legal_usa=='1')?'Yes':((preferences$ | async)?.legal_usa==NULL)?'N/A':'No'}}
                                            </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mostjob-box" *ngIf="jobs">
                              <div class="sri-cont" *ngFor="let jobdata of recentJob; let myIndex = index"> 
                                <h3 class="section-heading-1">Jobs:{{(myIndex==0)?'Most Recent':myIndex}}</h3>
                                <div class="stri-fieldbox">

                                     <table width="100%" class="tn_detailss">
                                        <tbody>
                                            <tr>
                                                <td width="40%">
                                                    <span class="field-label">Job title : </span> 
                                                </td>
                                                <td width="60%">
                                                    <span class="dield-value">{{jobdata.job_title.name}}</span> 
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="40%">
                                                    <span class="field-label">Company Name : </span> 
                                                </td>
                                                <td width="60%">
                                                     <span class="dield-value">{{jobdata.company.name}}</span>  
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="40%">
                                                   <span class="field-label">Location : </span> 
                                                </td>
                                                <td width="60%">
                                                      <span class="dield-value">{{jobdata.location.city_name}} {{jobdata.location.state_name}} {{jobdata.location.country_name}}</span>  
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="40%">
                                                   <span class="field-label">Start End Date : </span>
                                                </td>
                                                <td width="60%">
                                                        <span class="dield-value">{{userdob(jobdata.from)}} to {{(jobdata.current==1)?'Present':userdob(jobdata.to)}}</span>   
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="40%">
                                                   <span class="field-label">Currently Work Here : </span> 
                                                </td>
                                                <td width="60%">
                                                        <span class="dield-value">{{(jobdata.current==1)?'Yes':'No'}}</span>     
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="40%">
                                                   <span class="field-label">Job Seniority : </span> 
                                                </td>
                                                <td width="60%">
                                                         <span class="dield-value">{{jobdata.seniority.name}}</span>      
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="40%">
                                                   <span class="field-label">Job Type : </span> 
                                                </td>
                                                <td width="60%">
                                                          <span class="dield-value">{{jobdata.type}}</span>        
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="40%">
                                                   <span class="field-label">Industry: </span> 
                                                </td>
                                                <td width="60%">
                                                          <span class="dield-value">{{jobdata.industry.name}}</span>         
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="40%">
                                                   <span class="field-label">Salary : </span>  
                                                </td>
                                                <td width="60%">
                                                          <span class="dield-value">{{jobdata.salary}} {{jobdata.salary_period}}</span>          
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="40%">
                                                   <span class="field-label">Responsibilities: </span>  
                                                </td>
                                                <td width="60%">
                                                         <span class="dield-value" *ngFor="let responsibilities of jobdata.areas_of_focus">
                                                        {{responsibilities.name}}
                                                    </span>           
                                                </td>
                                            </tr>
                                        </tbody>
                                     </table>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 educationbox">
                            <div class="sri-cont" *ngFor="let edu of educationClear; let myIndex = index">
                               <h3 class="section-heading-1">Education:{{(myIndex==0)?'Most Recent':myIndex}}</h3>
                                <div class="stri-fieldbox">
                                    <table width="100%" class="tn_detailss">
                                        <tbody>
                                            <tr>
                                                <td width="40%">
                                                    <span class="field-label">School Name : </span> 
                                                </td>
                                                <td width="60%">
                                                    <span class="dield-value">{{edu.name}}</span> 
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="40%">
                                                    <span class="field-label">Start Date - End Date: </span> 
                                                </td>
                                                <td width="60%">
                                                    <span class="dield-value" *ngIf="edu.from!='1970-01-01 00:00:00'">{{userdob(edu.from)}} to {{(edu.current==1)?'Present':userdob(edu.to)}}</span> 
                                                     <span class="dield-value" *ngIf="edu.from=='1970-01-01 00:00:00'">N/A</span> 
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="40%">
                                                    <span class="field-label">Currently Study Here : </span> 
                                                </td>
                                                <td width="60%">
                                                    <span class="dield-value">{{(edu.current==1)?((edu.from!='1970-01-01 00:00:00')?'Yes':'N/A'):'No'}}</span> 
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="40%">
                                                    <span class="field-label">Education Level : </span>
                                                </td>
                                                <td width="60%">
                                                    <span class="dield-value">{{edu.level.name}}</span> 
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="40%">
                                                   <span class="field-label">Field of Degree : </span>
                                                </td>
                                                <td width="60%">
                                                    <span class="dield-value" *ngFor="let field of edu.fields">
                                                {{field.name}}
                                                    </span>  
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="sri-cont" *ngIf="text!=''">
                               <h3 class="section-heading-1">Notes</h3>
                                <div class="dield-value" style="color: #000;" [innerHtml]="text | safeHtml">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            

         </div>
    </div>
</div>
<div class="search-result-bottom-bar no-print">
    <button (click)="toggleActive('responsibilities')" [disabled]="charts.responsibilities.disabled" class="bar-item bar-text form-control responsibilities" [class.active]="charts.responsibilities.active"> 
        
    </button>
</div>
<!-- <div class="search-result-bottom-bar no-print">
    <button *ngIf="userDetails?.phone"
        class="bar-item bar-img phone"
        [tooltip]="phoneTooltipTemplate"
        triggers="click:click"
        #phonePop="bs-tooltip">
        <img id="phoneIcon" src="../../../assets/images/search/phone.png">
    </button>
    <button *ngIf="userDetails?.email"
        class="bar-item bar-img email"
        [tooltip]="emailTooltipTemplate"
        triggers="click:click"
        #emailPop="bs-tooltip">
        <img id="emailIcon" src="../../../assets/images/search/mail.png">
    </button>
    <button *ngIf="userDetails?.skype"
        class="bar-item bar-img skype"
        [tooltip]="skypeTooltipTemplate" 
        triggers="click:click"
        #skypePop="bs-tooltip">
        <img id="skypeIcon" src="../../../assets/images/search/skype.png">
    </button>
    <button *ngIf="userDetails?.website"
        class="bar-item bar-img link"
        [tooltip]="websiteTooltipTemplate"
        triggers="click:click"
        #websitePop="bs-tooltip">
        <a href="{{ (userDetails?.website.indexOf('//') > -1) ? userDetails?.website : '//' + userDetails?.website}}" target="_blank">
            <img id="websiteIcon" src="../../../assets/images/search/link.png">
        </a>
    </button>
    <button (click)="printRow($event)" class="bar-item bar-img print"><img src="../../../assets/images/search/print.png"></button>

    <span class="btn-wrap">
        <button (click)="reportOpened = !reportOpened" class="bar-item bar-img report"><img src="../../../assets/images/search/hand.png"></button>
        <app-report-component
        *ngIf="reportOpened"
        [userId]="userId"
        (onSend)="closeReportComponent($event)"
        (onClose)="reportOpened = false"
        ></app-report-component>
    </span>

    <button (click)="toggleActive('experience')" [disabled]="charts.experience.disabled" class="bar-item bar-text form-control experience" [class.active]="charts.experience.active">Experience 
        <app-spinning-loader [showLoader]="charts.experience.loading"></app-spinning-loader>
        <i [class.glyphicon-triangle-bottom]="!charts.experience.active" [class.glyphicon-triangle-top]="charts.experience.active" class="glyphicon"></i>
    </button>
    <button (click)="toggleActive('education')" [disabled]="charts.education.disabled" class="bar-item bar-text form-control education" [class.active]="charts.education.active">Education 
        <app-spinning-loader [showLoader]="charts.education.loading"></app-spinning-loader>
        <i [class.glyphicon-triangle-bottom]="!charts.education.active" [class.glyphicon-triangle-top]="charts.education.active" class="glyphicon"></i>
    </button>
    <button (click)="toggleActive('responsibilities')" [disabled]="charts.responsibilities.disabled" class="bar-item bar-text form-control responsibilities" [class.active]="charts.responsibilities.active">Responsibilities 
        <app-spinning-loader [showLoader]="charts.responsibilities.loading"></app-spinning-loader>
        <i [class.glyphicon-triangle-bottom]="!charts.responsibilities.active" [class.glyphicon-triangle-top]="charts.responsibilities.active" class="glyphicon"></i>
    </button>
    <button (click)="toggleActive('skills')" [disabled]="charts.skills.disabled" class="bar-item bar-text form-control skills" [class.active]="charts.skills.active">Skills 
        <app-spinning-loader [showLoader]="charts.skills.loading"></app-spinning-loader>
        <i [class.glyphicon-triangle-bottom]="!charts.skills.active" [class.glyphicon-triangle-top]="charts.skills.active" class="glyphicon"></i>
    </button>
</div> -->

<!-- <div class="charts-wrap">

    <div class="chart-wrap" *ngIf="charts.experience.active">
        <h3>Experience</h3>
        <app-chart-experience
            [userId]="userId"
            (noData)="onNoData('experience')"
            (onLoaded)="charts.experience.loading = false"
        ></app-chart-experience>
    </div>
    
    <div class="chart-wrap" *ngIf="charts.education.active">
    <h3>Education</h3>
        <app-chart-education
            [userId]="userId"
            (noData)="onNoData('education')"
            (onLoaded)="charts.education.loading = false"
        ></app-chart-education>
    </div>

    <div class="chart-wrap" *ngIf="charts.responsibilities.active">
        <h3>Responsibilities</h3>
        <app-chart-responsibilities
            [userId]="userId"
            (noData)="onNoData('responsibilities')"
            (onLoaded)="charts.responsibilities.loading = false"
        ></app-chart-responsibilities>
    </div>

    
    <div class="chart-wrap" *ngIf="charts.skills.active">
        <h3>Skills</h3>
        <app-chart-skills
            [userId]="userId"
            (noData)="onNoData('skills')"
            (onLoaded)="charts.skills.loading = false"
        ></app-chart-skills>
    </div>

    <template #phoneTooltipTemplate (clickOutside)="closePhoneTooltip($event)">
        {{userDetails?.phone}}
    </template>

    <template #emailTooltipTemplate (clickOutside)="closeEmailTooltip($event)">
        {{userDetails?.email}}
    </template>

    <template #websiteTooltipTemplate (clickOutside)="closeWebsiteTooltip($event)">
        <a class="pointer" id="websiteLink" (click)="openWebsite(userDetails?.website)">{{userDetails?.website}}</a>
    </template>

    <template #skypeTooltipTemplate (clickOutside)="closeSkypeTooltip($event)">
        <a class="pointer" id="skypeLink" (click)="openSkype(userDetails?.skype)">{{userDetails?.skype}}</a>
    </template>
</div> -->